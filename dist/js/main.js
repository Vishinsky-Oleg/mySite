const heroHead=document.querySelector(".hero-head"),heroSections=document.querySelector(".hero-sections"),projects=document.querySelector(".projects-container"),contactsC=document.querySelector(".contacts-container"),skillsC=document.querySelector(".skills-container"),ENG=document.querySelector(".hero-lang-eng"),RUS=document.querySelector(".hero-lang-rus");async function fillThePage(e){let t=await fetch(`./dist/json/${e}.json`),l=await t.json();fillAside(l),"/"===location.pathname?fillProjects(l):"/contacts.html"===location.pathname?fillContacts(l):"/skills.html"===location.pathname&&fillSkills(l)}function fillAside(e){let t=createElement("h1",e.name,"hero-head--name"),l=createElement("p",e.occupation,"hero-head--para");heroHead.appendChild(t),heroHead.appendChild(l);let n=createElement("ul","","hero-sections--list");for(let t=0;t<e.menu[0].length;++t){let l=addActiveClass(t),i=createElement("a",e.menu[0][t],"hero-sections--list-link","href",e.menu[1][t]);l.appendChild(i),n.appendChild(l)}heroSections.appendChild(n)}function addActiveClass(e){return"/"===location.pathname&&0===e||"/contacts.html"===location.pathname&&2===e||"/skills.html"===location.pathname&&1===e?createElement("ul","",["hero-sections--list-li","active"]):createElement("ul","","hero-sections--list-li")}function fillProjects(n){for(let i in n.projects){let a=[],c=[],r=createElement("div","","projects-item-wrapper"),o=createElement("div","","divide"),p=createElement("div","","projects-item-heading"),d=n.projects[i];for(s in p.appendChild(createElement("span","#"+i+" ","projects-item-heading-number")),p.appendChild(createElement("h2",d.name,"projects-item-heading-name")),a.push(p),a.push(createElement("p",d.about,"projects-item-about")),a.push(createElement("img","","projects-item-image",["src","alt"],["./dist/img/"+d.imageName,d.name])),d.sections)if("0"!==s&&c.push(createElement("h3",d.sections[s],"projects-item-article")),"0"===s){let e=createElement("div","","projects-item-links-wrapper"),t=createElement("div","","projects-item-links");for(l in e.appendChild(createElement("h3",d.sections[s],"projects-item-links-head")),d.links){let e=createElement("span",d.links[l][0],"projects-item-links--info"),n=createElement("a","","projects-item-links--link",["href","target"],[d.links[l][2],"_blank"]);if(4===d.links.length)if(1===d.links.indexOf(d.links[l])){let e=createElement("img","","projects-item-links--icon",["src","alt"],["./dist/img/"+d.links[l][1],"PSD"]);n.appendChild(e)}else{let e=createElement("ion-icon","","projects-item-links--icon","name",d.links[l][1]);n.appendChild(e)}else{let e=createElement("ion-icon","","projects-item-links--icon","name",d.links[l][1]);n.appendChild(e)}t.appendChild(e),t.appendChild(n)}e.appendChild(t),a.push(e)}else if("1"===s){let e=createElement("div","","projects-item-tech-container");for(t in d.techUsed){let l=createElement("span",d.techUsed[t],"projects-item-tech-item");l.style.background=d.techColors[t],e.appendChild(l)}c.push(e)}else if("2"===s)c.push(createElement("p",d.implemented,"projects-item-implemented"));else if("3"===s){let e=createElement("ul","","projects-item-skill--list");for(t in d.skills)e.appendChild(createElement("li",d.skills[t],"projects-item-skill--item"));c.push(e)}else if("4"===s){let e=createElement("ul","","projects-item-lib--list");for(t in d.libs)e.appendChild(createElement("li",d.libs[t],"projects-item-lib--item"));c.push(e)}for(e of a)r.appendChild(e);for(e of c)o.appendChild(e);r.appendChild(o),projects.appendChild(r)}}function fillContacts(t){let l=[],n=t.contacts;for(c in l.push(createElement("h1",t.other[0],"contacts-heading")),n){let e=createElement("p","","contacts-data"),t=createElement("strong",n[c][0],"contacts-strong");if(e.appendChild(t),2===n[c].length)e.innerHTML+=n[c][1],l.push(e);else{let t=createElement("a",n[c][1],"contacts-data",["href","target"],[n[c][2],"_blank"]);e.appendChild(t),l.push(e)}}for(e of l)contactsC.appendChild(e)}function fillSkills(t){let l=[],n=t.mySkills;for(c in l.push(createElement("h1",t.other[1],"contacts-heading")),n){let e=createElement("p","","skills-data"),t=createElement("strong",n[c][0],"skills-strong");e.appendChild(t),e.innerHTML+=n[c][1],l.push(e)}for(e of l)skillsC.appendChild(e)}function createElement(e,t,l,n,i){let a=document.createElement(e);if(a.textContent=t,l)if(Array.isArray(l))for(let e=0;e<l.length;++e)a.classList.add(l[e]);else a.classList.add(l);if(n&&i)if(Array.isArray(n)&&Array.isArray(i))for(c=0;c<n.length;++c)a.setAttribute(n[c],i[c]);else a.setAttribute(n,i);return a}ENG.addEventListener("click",()=>{localStorage.lang="eng",location.reload()}),RUS.addEventListener("click",()=>{localStorage.lang="rus",location.reload()}),localStorage.lang?fillThePage(localStorage.lang):fillThePage("eng");
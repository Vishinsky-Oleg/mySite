const heroHead=document.querySelector(".hero-head"),heroSections=document.querySelector(".hero-sections"),projects=document.querySelector(".projects-container"),contactsC=document.querySelector(".contacts-container"),skillsC=document.querySelector(".skills-container"),ENG=document.querySelector(".hero-lang-eng"),RUS=document.querySelector(".hero-lang-rus");async function fillThePage(e){let t=await fetch(`./dist/json/${e}.json`),l=await t.json();fillAside(l),"/"===location.pathname?fillProjects(l):"/contacts.html"===location.pathname?fillContacts(l):"/skills.html"===location.pathname&&fillSkills(l)}function fillAside(e){let t=createElement("h1",e.name,".hero-head--name"),l=createElement("p",e.occupation,".hero-head--para");heroHead.appendChild(t),heroHead.appendChild(l);let n=createElement("ul","",".hero-sections--list");for(let t=0;t<e.menu[0].length;++t){let l=createElement("ul","",".hero-sections--list-li"),i=createElement("a",e.menu[0][t],".hero-sections--list-link","href",e.menu[1][t]);l.appendChild(i),n.appendChild(l)}heroSections.appendChild(n)}function fillProjects(n){for(let i in n.projects){let c=[],a=createElement("div","","projects-item-wrapper"),r=n.projects[i];for(s in c.push(createElement("span","#"+i+" ","projects-item-number")),c.push(createElement("h2",r.name,"projects-item-name")),c.push(createElement("p",r.about,"projects-item-about")),c.push(createElement("img","","projects-item-image",["src","alt"],["./dist/img/"+r.imageName,r.name])),r.sections)if("0"!==s&&c.push(createElement("h3",r.sections[s],"projects-item-article")),"0"===s){let e=createElement("div","","projects-item-links"),t=createElement("h3",r.sections[s],"projects-item-links--heading");for(l in e.appendChild(t),r.links){let t=createElement("span",r.links[l][0],"projects-item-links--info"),n=createElement("a","","projects-item-links--link",["href","target"],[r.links[l][2],"_blank"]);if(4===r.links.length)if(1===r.links.indexOf(r.links[l])){let e=createElement("img","","projects-item-links--icon",["src","alt"],["./dist/img/"+r.links[l][1],"PSD"]);n.appendChild(e)}else{let e=createElement("ion-icon","","projects-item-links--icon","name",r.links[l][1]);n.appendChild(e)}else{let e=createElement("ion-icon","","projects-item-links--icon","name",r.links[l][1]);n.appendChild(e)}e.appendChild(t),e.appendChild(n)}c.push(e)}else if("1"===s)for(t in r.techUsed){let e=createElement("span",r.techUsed[t],"projects-item-tech");e.style.background=r.techColors[t],c.push(e)}else if("2"===s)c.push(createElement("p",r.implemented,"projects-item-implemented"));else if("3"===s){let e=createElement("ul","","projects-item-skill--list");for(t in r.skills)e.appendChild(createElement("li",r.skills[t],"projects-item-skill--item"));c.push(e)}else if("4"===s){let e=createElement("ul","","projects-item-lib--list");for(t in r.libs)e.appendChild(createElement("li",r.libs[t],"projects-item-lib--item"));c.push(e)}for(e of c)a.appendChild(e);projects.appendChild(a)}}function fillContacts(t){let l=[],n=t.contacts;for(c in n){let e=createElement("p","","contacts-data"),t=createElement("strong",n[c][0],"contacts-strong");if(e.appendChild(t),2===n[c].length)e.innerHTML+=n[c][1],l.push(e);else{let t=createElement("a",n[c][1],"contacts-data",["href","target"],[n[c][2],"_blank"]);e.appendChild(t),l.push(e)}}for(e of l)contactsC.appendChild(e)}function fillSkills(t){let l=[],n=t.mySkills;for(c in n){let e=createElement("p","","contacts-data"),t=createElement("strong",n[c][0],"skills-strong");e.appendChild(t),e.innerHTML+=n[c][1],l.push(e)}for(e of l)skillsC.appendChild(e)}function createElement(e,t,l,n,i){let s=document.createElement(e);if(s.textContent=t,l)if(Array.isArray(l))for(let e=0;e<l.length;++e)s.classList.add(l[e]);else s.classList.add(l);if(n&&i)if(Array.isArray(n)&&Array.isArray(i))for(c=0;c<n.length;++c)s.setAttribute(n[c],i[c]);else s.setAttribute(n,i);return s}ENG.addEventListener("click",()=>{localStorage.lang="eng",location.reload()}),RUS.addEventListener("click",()=>{localStorage.lang="rus",location.reload()}),localStorage.lang?fillThePage(localStorage.lang):fillThePage("eng");